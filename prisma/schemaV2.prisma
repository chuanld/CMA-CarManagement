// generator client {
//     provider = "prisma-client-js"
// }

// datasource db {
//     provider  = "postgresql"
//     url       = env("DATABASE_URL")
//     directUrl = env("DIRECT_URL")
// }

// model User {
//     id          String   @id @default(uuid())
//     clerkUserId String   @unique
//     email       String   @unique
//     name        String?
//     imageUrl    String?
//     phone       String?
//     createdAt   DateTime @default(now())
//     updatedAt   DateTime @updatedAt
//     role        UserRole @default(USER)

//     testDrives TestDriveBooking[]
//     savedCars  UserSavedCar[]
//     dealers    Dealer[] @relation("UserDealer")
//     reviews    Review[]
// }

// model Dealer {
//     id          String   @id @default(uuid())
//     name        String
//     address     String
//     phone       String
//     email       String
//     description String?
//     logoUrl     String?
//     createdAt   DateTime @default(now())
//     updatedAt   DateTime @updatedAt

//     ownerId String?
//     owner   User?   @relation("UserDealer", fields: [ownerId], references: [id])
//     reviews Review[] @relation("DealerReviews")

//     workingHours WorkingHour[]
//     Car          Car[]
// }

// model Car {
//     id           String    @id @default(uuid())
//     make         String
//     model        String
//     year         Int
//     price        Decimal   @db.Decimal(10, 2)
//     mileage      Int
//     color        String
//     fuelType     String
//     transmission String
//     bodyType     String
//     seats        Int?
//     description  String
//     status       CarStatus @default(AVAILABLE)
//     featured     Boolean   @default(false)
//     images       String[]
//     createdAt    DateTime  @default(now())
//     updatedAt    DateTime  @updatedAt

//     dealerId String?
//     dealer   Dealer? @relation(fields: [dealerId], references: [id], onDelete: Cascade)

//     testDriveBookings TestDriveBooking[]
//     savedBy           UserSavedCar[]
//     reviews          Review[]   @relation("CarReviews")

//     //analytics
//     countViews    Int @default(0)
//     durationView  Int @default(0) // in seconds

//     @@index([make, model])
//     @@index([bodyType])
//     @@index([price])
//     @@index([year])
//     @@index([status])
//     @@index([fuelType])
//     @@index([featured])
// }

// // model DealershipInfo {
// //   id           String        @id @default(uuid())
// //   name         String        @default("Vina Motors")
// //   address      String        @default("San FansixLong, CA 94016")
// //   phone        String        @default("+1 (555) 123-4567")
// //   email        String        @default("contact@vina-motors.com")
// //   createdAt    DateTime      @default(now())
// //   updatedAt    DateTime      @updatedAt
// //   workingHours WorkingHour[]
// // }

// model WorkingHour {
//     id        String    @id @default(uuid())
//     dealerId  String
//     dayOfWeek DayOfWeek
//     openTime  DateTime
//     closeTime DateTime
//     isOpen    Boolean   @default(true)
//     createdAt DateTime  @default(now())
//     updatedAt DateTime  @updatedAt

//     dealer Dealer @relation(fields: [dealerId], references: [id], onDelete: Cascade)

//     @@unique([dealerId, dayOfWeek])
//     @@index([dealerId])
//     @@index([dayOfWeek])
//     @@index([isOpen])
// }

// model UserSavedCar {
//     id      String   @id @default(uuid())
//     userId  String
//     carId   String
//     savedAt DateTime @default(now())

//     car  Car  @relation(fields: [carId], references: [id], onDelete: Cascade)
//     user User @relation(fields: [userId], references: [id], onDelete: Cascade)

//     @@unique([userId, carId])
//     @@index([userId])
//     @@index([carId])
// }

// model TestDriveBooking {
//     id          String        @id @default(uuid())
//     carId       String
//     userId      String
//     bookingDate DateTime      @db.Date
//     startTime   String
//     endTime     String
//     status      BookingStatus @default(PENDING)
//     notes       String?
//     createdAt   DateTime      @default(now())
//     updatedAt   DateTime      @updatedAt

//     car  Car  @relation(fields: [carId], references: [id], onDelete: Cascade)
//     user User @relation(fields: [userId], references: [id], onDelete: Cascade)

//     @@index([carId])
//     @@index([userId])
//     @@index([bookingDate])
//     @@index([status])
// }

// model Review {
//     id        String   @id @default(uuid())
//     rating    Int
//     comment   String?
//     createdAt DateTime @default(now())
//     updatedAt DateTime @updatedAt

//     targetType ReviewTargetType
//     targetId   String

//     userId String
//     user   User @relation(fields: [userId], references: [id], onDelete: Cascade)

//     carId String?
//     car   Car? @relation("CarReviews", fields: [carId], references: [id], onDelete: Cascade)

//     dealerId String?
//     dealer   Dealer? @relation("DealerReviews", fields: [dealerId], references: [id], onDelete: Cascade)

//     @@index([userId])
//     @@index([carId])
//     @@index([dealerId])
// }



// enum UserRole {
//     USER
//     ADMIN
// }

// enum CarStatus {
//     AVAILABLE     //-> xe có thể hiển thị và đặt mua/test drive
//     RESERVED      //-> có người giữ/đặt (tương đương BOOKED/HOLD)
//     SOLD          //-> đã bán xong
//     MAINTENANCE   //-> tạm dừng bán vì bảo dưỡng/đi sửa
//     PENDING       //-> (OPTIONAL) chờ phê duyệt/đang trong quá trình hoàn thiện listing

// }

// enum DayOfWeek {
//     MONDAY
//     TUESDAY
//     WEDNESDAY
//     THURSDAY
//     FRIDAY
//     SATURDAY
//     SUNDAY
// }

// enum BookingStatus {
//     PENDING
//     CONFIRMED
//     COMPLETED
//     CANCELLED
//     NO_SHOW
// }

// enum ReviewTargetType {
//     CAR
//     DEALER
// }
