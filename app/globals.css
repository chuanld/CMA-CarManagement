/* app/globals.css */

/* 1. Import Tailwind (v4 uses @import) */
@import "tailwindcss";

/* 2. Define the 'dark' variant for class-based dark mode */
/* This tells Tailwind that 'dark:' utilities should apply when the '.dark' class is present */
@custom-variant dark (&:where(.dark, .dark *));

/* 3. Define the LIGHT MODE (DEFAULT) variables in @theme */
@theme {
  /* LIGHT MODE - DEFAULT */
  --color-background: #ffffff;
  --color-foreground: #1a1a1a;

  --color-card: #ffffff;
  --color-card-foreground: #1a1a1a;

  --color-primary: #d9b95c; /* GOLD */
  --color-primary-foreground: #1a1a1a;

  --color-secondary: #f8fafc;
  --color-secondary-foreground: #1a1a1a;

  --color-accent: #f7e8a4;
  --color-accent-foreground: #111827;

  --color-accent2: #0c395d;
  --color-accent2-foreground: #f8fafc;

  --color-muted: #f1f5f9;
  --color-muted-foreground: #64748b;

  --color-border: #e2e8f0;

  --color-success: #10b981;
  --color-success-foreground: #ffffff;

  --color-info: #2563eb; /* Xanh dương hoàng gia (Royal blue) */
  --color-info-foreground: #f8fafc;

  --color-destructive: #ef4444;
  --color-destructive-foreground: #ffffff;

  /* PROGRESS BAR */
  --color-progress: #e2e8f0;
  --color-progress-fill: #10b981;

  /* BADGES */
  --color-badge: #d9b95c;
  --color-badge-foreground: #ffffff;
  --color-badge-secondary: #d97706;
  --color-badge-secondary-foreground: #64748b;
  --color-badge-tertiary: #6b7280;
  --color-badge-tertiary-foreground: #ffffff;
  --color-badge-isSale: #d14e35;
  --color-badge-isSale-foreground: #ffffff;
  --color-badge-isRent: #249595;
  --color-badge-isRent-foreground: #ffffff;
  --color-badge-both: #9143a3;
  --color-badge-both-foreground: #ffffff;

  /* SHADOWS */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1);
  --shadow-glow: 0 0 12px 0 rgb(217 185 92 / 0.25);

  /* RADIUS */
  --radius: 0.5rem;
}

/* 4. Apply the DARK MODE OVERRIDES */
/* The dark mode variables MUST be outside the @theme block. */
/* We wrap the CSS selector in @layer theme to ensure it is correctly ordered */
@layer theme {
  .dark {
    /* DARK MODE OVERRIDES */
    --color-background: #0b0c10;
    --color-foreground: #eaeaea;

    --color-primary: #14161b;
    --color-primary-foreground: #ffffff;

    --color-secondary: #1e2025; /* nền navy-xám nhẹ, trung hòa */
    --color-secondary-foreground: #f3f4f6; /* chữ sáng nhẹ, không quá trắng */

    --color-accent: #d9b95c;
    --color-accent-foreground: #fafaf5;

    --color-accent2: #2a6ea6;
    --color-accent2-foreground: #f8fafc;

    --color-border: #2c3036;
    --color-muted: #b0b0b0;

    --color-success: #2ecc71;
    --color-destructive: #e74c3c;

    --shadow-glow: 0 0 12px 0 rgb(217 185 92 / 0.45);

    /* Card  */
    --color-card: #14161b;
    --color-card-foreground: #f2f2f2;
  }
}

/* 5. Base layer (applies the variables to the body) */
@layer base {
  :root {
    color-scheme: light;
  }

  .dark {
    color-scheme: dark;
  }

  body {
    @apply bg-background text-foreground;
  }
}

@layer components {
  /* BUTTONS */
  .header {
    @apply bg-gradient-to-r from-badge-secondary-foreground/10 to-accent;
  }
  .btn-primary {
    @apply bg-primary text-primary-foreground 
           hover:bg-primary/90 
           shadow-lg hover:shadow-glow
           transition-all;
  }

  .btn-gold {
    @apply bg-gradient-to-r from-primary to-primary/90 
           text-primary-foreground 
           hover:from-primary/90 hover:to-primary
           shadow-lg hover:shadow-glow;
  }

  .btn-apply {
    @apply bg-accent text-accent-foreground 
           hover:bg-accent/90 
           shadow-md hover:shadow-glow
           transition-all;
  }

  .btn-outline {
    @apply border  bg-background hover:bg-accent 
         hover:text-accent-foreground;
  }

  /* ← THÊM 2 DÒNG NÀY NGAY SAU */
  .btn-outline {
    @apply text-foreground; /* DÒNG 1 */
  }

  /* CARDS */
  .card {
    @apply bg-card text-card-foreground 
           border border-border 
           rounded-[1rem] shadow-md;
  }

  .card-header {
    @apply bg-gradient-to-l from-accent to-primary p-4;
  }

  /* INPUTS & SELECT */
  .input,
  .select-trigger,
  .textarea {
    @apply bg-background border-border 
           text-foreground 
           focus:ring-primary focus:border-primary
           rounded-[1rem] h-14;
  }

  .select-content {
    @apply bg-card border-border shadow-lg rounded-2xl;
  }

  .select-item {
    @apply text-foreground hover:bg-accent hover:text-foreground 
           px-4 py-3 rounded-lg cursor-pointer;
  }

  .select-item[aria-selected="true"] {
    @apply bg-primary/10 text-primary font-semibold;
  }

  /* PROGRESS BAR */
  .progress {
    @apply bg-progress rounded-full h-2;
  }

  .progress-indicator {
    @apply bg-progress-fill;
  }

  /* BADGES */
  .badge-primary {
    @apply bg-badge text-badge-foreground 
         border border-badge 
         rounded-full px-2.5 py-0.5 text-xs font-semibold;
  }

  .badge-secondary {
    @apply bg-badge-secondary text-badge-secondary-foreground 
         border border-badge-secondary 
         rounded-full px-2.5 py-0.5 text-xs font-semibold;
  }

  .badge-destructive {
    @apply bg-destructive text-destructive-foreground 
         border border-destructive 
         rounded-full px-2.5 py-0.5 text-xs font-semibold;
  }
  .popover-content {
    @apply text-card-foreground  bg-accent
         border border-border 
         rounded-xl shadow-md 
         backdrop-blur-md 
         z-50;
  }
  /* For Dark Theme */
  .dark .header {
    @apply bg-gradient-to-l from-primary/90 to-accent2/60;
  }
  .dark .card-header {
    @apply bg-gradient-to-r from-accent to-primary p-4;
  }
  .dark .progress-indicator {
    @apply bg-success;
  }

  /* table  */
  .table-row-hover:hover {
    @apply bg-accent/5 shadow-glow transition-shadow;
  }
}

/* 7. UTILITIES */
@layer utilities {
  .rounded-2xl {
    /* border-radius: 1rem; */
  }
  .shadow-glow {
    box-shadow: var(--shadow-glow);
  }
}

/* ==== NProgress Custom (Header fixed) ==== */
#nprogress {
  pointer-events: none;
}

#nprogress .bar {
  /* background: var(--color-primary) !important; ⚡ bắt buộc override */
  background: linear-gradient(
    to right,
    var(--color-primary),
    var(--color-accent)
  ) !important;
  height: 3px !important;
  position: fixed !important;
  top: 97px !important; /* chỉnh theo chiều cao Header */
  left: 0 !important;
  width: 100% !important;
  z-index: 9999 !important;
  border-radius: 9999px;
  box-shadow: 0 0 10px rgba(217, 185, 92, 0.3);
  transition: opacity 0.4s ease, width 0.2s ease-out;
}

#nprogress .peg {
  display: block;
  position: absolute;
  right: 0;
  width: 100px;
  height: 100%;
  opacity: 1;
  transform: rotate(3deg) translate(0px, -4px);
  box-shadow: 0 0 6px var(--color-accent), 0 0 3px var(--color-accent) !important;
}
